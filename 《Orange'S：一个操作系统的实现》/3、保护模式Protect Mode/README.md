# 保护模式

保护模式是本书的重点，也是拦路虎，初看一脸懵。我看了好几遍，还查阅了其他很多网上资料才厘清一点头绪，剩下的就是动手实现，逐渐理解保护模式的真谛。其中特权级（特别是特权级代码的转移）是难点。

## 概念
GDT/LDT、特权级（CPL/RPL/DPL）、内存分页机制、IDT、TSS（多进程基础）

## 常用命令

```sh
nasm 1.asm -o 1.bin -l 1.lst
```
生成列表文件，对于学习和分析非常有用

```sh
dd if=1.bin of=1.img bs=512 count=1 conv=notrunc
```

- if=文件名：输入文件名，默认为标准输入。即指定源文件。
- of=文件名：输出文件名，默认为标准输出。即指定目的文件。
- bs=bytes：同时设置读入/输出的块大小为bytes个字节。
- count=blocks：仅拷贝blocks个块，块大小等于ibs指定的字节数。
- conv=notrunc：不截短输出文件