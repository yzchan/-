# 端口

CPU除了可以直接操控寄存器外和内存单元外，还可以操作端口，从而实现对其他设备的操控。比如键盘鼠标，就是利用端口来操作的。本章的练习主要介绍了如何通过端口对CMOS RAM中时间存储单元进行读写。

CMOS RAM芯片内部主要包含了一个时间信息和系统配置信息。

因为是RAM芯片，掉电会丢数据。所以CMOS芯片是靠电池供电的，关机之后里面的信息不会丢失。

CMOS有128字节的存储单元，内部时钟使用0~0dh.其他大部分用于保存系统配置信息供BIOS读取。CMOS有两个端口，70h为地址端口，71h为数据端口。

CMOS里时间信息的存放规则：年、月、日、时、分、秒共6个信息，分别占用1个字节，存放单元是:

秒：0  分：2  时：4  日：7  月：8  年：9

时间信息采用BCD码的形式存储：

| BCD码 | 值 |
| ---- | ---- |
| 0000 | 0 |
| 0001 | 1 |
| 0010 | 2 |
| 0011 | 3 |
| 0100 | 4 |
| 0101 | 5 |
| 0110 | 6 |
| 0111 | 7 |
| 1000 | 8 |
| 1001 | 9 |

比如31分，用BCD表示就是00110001，刚好1个字节，高4位表示3，低4位表示1

BCD码跟二进制类似，但是只有0-9这10种符号